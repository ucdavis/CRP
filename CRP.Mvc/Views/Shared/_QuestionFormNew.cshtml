@using CRP.Core.Resources
@model CRP.Controllers.ViewModels.ItemQuestionViewModel
    
<div class="form-group">

    @Html.Hidden(".QuestionId", Model.Question.Id, new { @class = StaticValues.Class_indexedControl })
    @Html.Hidden(".QuestionSetId", Model.Question.QuestionSet.Id, new { @class = StaticValues.Class_indexedControl })
    @Html.Hidden(".QuantityIndex", 0, new { @class = StaticValues.Class_indexedControl })


    <!-- Render the controls now -->
    @switch (Model.Question.QuestionType.Name)
    {
        case "Text Box":
            <label id="_Answer" class="indexedControl">@Model.Question.Name</label>
            <input name=".Answer" id="_Answer" class="form-control indexedControl @Model.Question.ValidationClasses" type="text" @(Model.Disable ? "disabled='true'" : null) value="@Model.Answer" placeholder="@Model.Question.Name"/>
            break;
        case "Text Area":
            <label id="_Answer" class="indexedControl">@Model.Question.Name</label>
            @Html.TextArea(".Answer", Model.Answer, new {@class = "form-control " + StaticValues.Class_indexedControl, rows = "3"})
            break;
        case "Date":
            <label id="_Answer" class="indexedControl">@Model.Question.Name</label>
            @Html.TextBox(".Answer", Model.Answer, new {@class = "form-control dateForm indexedControl " + Model.Question.ValidationClasses})
            break;
            @*@case "Boolean":
                    var ans = false;
                    if (!Boolean.TryParse(Model.Answer, out ans))
                    {
                        ans = false;
                    }
                    @Html.CheckBox(".Answer", ans, new {@class = "indexedControl"})
                    @Html.Encode(Model.Question.Name)
                    break;
                case "Radio Buttons":

                    var option = !string.IsNullOrEmpty(Model.Answer) ? Model.Answer.Trim().ToLower() : string.Empty;
                    foreach (var o in Model.Question.Options)
                    {
                        var isChecked = option == o.Name.Trim().ToLower();
                        @Html.RadioButton(".Answer", o.Name, isChecked, new {@class = StaticValues.Class_indexedControl + " " + Model.Question.ValidationClasses})
                        @Html.Encode(o.Name)
                    }

                    break;
                case "Checkbox List":
                    var options = !string.IsNullOrEmpty(Model.Answer) ? Model.Answer.Split(',') : new string[1];

                    foreach (var o in Model.Question.Options)
                    {
                        var cblAns = options.Contains(o.Name);

                        @Html.CheckBox(".CblAnswer", cblAns, new {@class = StaticValues.Class_indexedControl + " " + Model.Question.ValidationClasses, @value = o.Name})
                        @Html.Encode(o.Name)
                    }

                    break;
                case "Drop Down":
                    @this.Select(".Answer").Options(Model.Question.Options.OrderBy(a => a.Name), x => x.Name, x => x.Name).Class("indexedControl " + Model.Question.ValidationClasses).Selected(Model.Answer ?? string.Empty).FirstOption("--Select--")
                    break;
            *@

    }
</div>



